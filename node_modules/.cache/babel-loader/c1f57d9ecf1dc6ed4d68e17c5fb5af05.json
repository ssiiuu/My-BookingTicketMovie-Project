{"ast":null,"code":"import { history } from \"../../App\";\nimport QuanLyNguoiDungServ from \"../../services/QuanLyNguoiDung.service\";\nimport { Alert, Button, message, Result } from \"antd\";\nimport localStorageServ from \"../../services/locaStorage.service\";\nimport { SET_USER_INFOR } from \"../type/nguoiDungType\";\nexport const dangKyAction = data => {\n  return dispatch => {\n    QuanLyNguoiDungServ.dangKy(data).then(res => {\n      // console.log(\"res\", res);\n      message.success(\"Đăng ký thành công!\");\n      setTimeout(() => {\n        history.push(\"/login\");\n      }, 3000);\n    }).catch(err => {\n      // console.log(\"err\", err);\n      message.error(`${err.err.response.data.content}`);\n    });\n  };\n};\nexport const dangNhapAction = data => {\n  return dispatch => {\n    QuanLyNguoiDungServ.dangNhap(data).then(res => {\n      // console.log(\"res\", res);\n      localStorageServ.userInfor.set(res.data.content);\n      localStorageServ.accessToken.set(res.data.content.accessToken);\n      dispatch({\n        type: SET_USER_INFOR,\n        payload: res.data.content\n      });\n      message.success(\"Đăng nhập thành công!\");\n      setTimeout(() => {\n        history.goBack();\n      }, 3000);\n    }).catch(err => {\n      // console.log(\"err\", err);\n      message.error(`${err.err.response.data.content}`);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/siuhuynh/Desktop/BC-18/My-Movies-Project/src/redux/actions/quanLyNguoiDungAction.js"],"names":["history","QuanLyNguoiDungServ","Alert","Button","message","Result","localStorageServ","SET_USER_INFOR","dangKyAction","data","dispatch","dangKy","then","res","success","setTimeout","push","catch","err","error","response","content","dangNhapAction","dangNhap","userInfor","set","accessToken","type","payload","goBack"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AACA,OAAOC,mBAAP,MAAgC,wCAAhC;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,OAAxB,EAAiCC,MAAjC,QAA+C,MAA/C;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AAEA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AACpC,SAAQC,QAAD,IAAc;AACnBT,IAAAA,mBAAmB,CAACU,MAApB,CAA2BF,IAA3B,EACGG,IADH,CACSC,GAAD,IAAS;AACb;AACAT,MAAAA,OAAO,CAACU,OAAR,CAAgB,qBAAhB;AACAC,MAAAA,UAAU,CAAC,MAAM;AACff,QAAAA,OAAO,CAACgB,IAAR,CAAa,QAAb;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACd;AACAd,MAAAA,OAAO,CAACe,KAAR,CAAe,GAAED,GAAG,CAACA,GAAJ,CAAQE,QAAR,CAAiBX,IAAjB,CAAsBY,OAAQ,EAA/C;AACD,KAXH;AAYD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAMC,cAAc,GAAIb,IAAD,IAAU;AACtC,SAAQC,QAAD,IAAc;AACnBT,IAAAA,mBAAmB,CAACsB,QAApB,CAA6Bd,IAA7B,EACGG,IADH,CACSC,GAAD,IAAS;AACb;AACAP,MAAAA,gBAAgB,CAACkB,SAAjB,CAA2BC,GAA3B,CAA+BZ,GAAG,CAACJ,IAAJ,CAASY,OAAxC;AACAf,MAAAA,gBAAgB,CAACoB,WAAjB,CAA6BD,GAA7B,CAAiCZ,GAAG,CAACJ,IAAJ,CAASY,OAAT,CAAiBK,WAAlD;AACAhB,MAAAA,QAAQ,CAAC;AACPiB,QAAAA,IAAI,EAAEpB,cADC;AAEPqB,QAAAA,OAAO,EAAEf,GAAG,CAACJ,IAAJ,CAASY;AAFX,OAAD,CAAR;AAIAjB,MAAAA,OAAO,CAACU,OAAR,CAAgB,uBAAhB;AACAC,MAAAA,UAAU,CAAC,MAAM;AACff,QAAAA,OAAO,CAAC6B,MAAR;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KAbH,EAcGZ,KAdH,CAcUC,GAAD,IAAS;AACd;AACAd,MAAAA,OAAO,CAACe,KAAR,CAAe,GAAED,GAAG,CAACA,GAAJ,CAAQE,QAAR,CAAiBX,IAAjB,CAAsBY,OAAQ,EAA/C;AACD,KAjBH;AAkBD,GAnBD;AAoBD,CArBM","sourcesContent":["import { history } from \"../../App\";\r\nimport QuanLyNguoiDungServ from \"../../services/QuanLyNguoiDung.service\";\r\nimport { Alert, Button, message, Result } from \"antd\";\r\nimport localStorageServ from \"../../services/locaStorage.service\";\r\nimport { SET_USER_INFOR } from \"../type/nguoiDungType\";\r\n\r\nexport const dangKyAction = (data) => {\r\n  return (dispatch) => {\r\n    QuanLyNguoiDungServ.dangKy(data)\r\n      .then((res) => {\r\n        // console.log(\"res\", res);\r\n        message.success(\"Đăng ký thành công!\");\r\n        setTimeout(() => {\r\n          history.push(\"/login\");\r\n        }, 3000);\r\n      })\r\n      .catch((err) => {\r\n        // console.log(\"err\", err);\r\n        message.error(`${err.err.response.data.content}`);\r\n      });\r\n  };\r\n};\r\n\r\nexport const dangNhapAction = (data) => {\r\n  return (dispatch) => {\r\n    QuanLyNguoiDungServ.dangNhap(data)\r\n      .then((res) => {\r\n        // console.log(\"res\", res);\r\n        localStorageServ.userInfor.set(res.data.content);\r\n        localStorageServ.accessToken.set(res.data.content.accessToken);\r\n        dispatch({\r\n          type: SET_USER_INFOR,\r\n          payload: res.data.content,\r\n        });\r\n        message.success(\"Đăng nhập thành công!\");\r\n        setTimeout(() => {\r\n          history.goBack();\r\n        }, 3000);\r\n      })\r\n      .catch((err) => {\r\n        // console.log(\"err\", err);\r\n        message.error(`${err.err.response.data.content}`);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}